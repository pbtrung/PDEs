spack:
  specs:
  - cmake
  - python
  - valgrind
  - gdb
  - gmsh
  - dealii@master~examples~trilinos
  - mfem@develop+petsc+suite-sparse+superlu-dist+shared+mumps+slepc+sundials+conduit~static
  - mpich@develop datatype-engine=dataloop
  - fenics-dolfinx@main+adios2 cflags="-O3" fflags="-O3"
  - py-fenics-dolfinx@main

  packages:
    all:
      target:
      - x86_64
      providers:
        mpi: [mpich]

  container:
    images:
      os: "ubuntu:24.04"
      spack: develop

    format: docker

    strip: true

    os_packages:
      final:
      - build-essential
      - clangd
      - clang-format
      - curl
      - gfortran
      - git
      - vim
      - wget
      - zsh
      - nano
